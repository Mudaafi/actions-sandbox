name: Testing Approval
on:
  pull_request:
    branches:
      - "**"

permissions:
  pull-requests: write

jobs:
  approve-job:
    name: approve-job-name
    runs-on: ubuntu-latest
    steps:
      - run: |
          CODE=`curl --request POST \
            --url https://api.github.com/repos/${{github.repository}} \
            --header 'authorization: Bearer ${{ secrets.GITHUB_TOKEN }}' \
            --header 'content-type: application/json' \
            -d '{"event": "APPROVE"}'`

          echo $CODE
        
          if [ $CODE!="200" ] 
          then
              echo "FAILURE"
          else
              echo "SUCCESS"
          fi